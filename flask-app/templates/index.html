
<!DOCTYPE html>
<html>
<head>
    <title>Kafka Sensor Data</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h1>Real-time Sound Data</h1>
    <table id="data-table">
        <thead>
            <tr>
                <th>Max</th>
                <th>Min</th>
                <th>Mean</th>
                <th>SD</th>
                <th>RMS</th>
                <th>Skewness</th>
                <th>Kurtosis</th>
                <th>Crest</th>
                <th>Form</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <script type="text/javascript">
        var socket = io.connect('http://' + document.domain + ':' + location.port);

        socket.on('data', function(msg) {
            var tableBody = document.getElementById('data-table').getElementsByTagName('tbody')[0];
            var newRow = tableBody.insertRow(0); // Insert new row at the top

            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);
            var cell4 = newRow.insertCell(3);
            var cell5 = newRow.insertCell(4);
            var cell6 = newRow.insertCell(5);
            var cell7 = newRow.insertCell(6);
            var cell8 = newRow.insertCell(7);
            var cell9 = newRow.insertCell(8);

            cell1.innerHTML = msg.data.max;
            cell2.innerHTML = msg.data.min;
            cell3.innerHTML = msg.data.mean;
            cell4.innerHTML = msg.data.sd;
            cell5.innerHTML = msg.data.rms;
            cell6.innerHTML = msg.data.skewness;
            cell7.innerHTML = msg.data.kurtosis;
            cell8.innerHTML = msg.data.crest;
            cell9.innerHTML = msg.data.form;
        });
    </script>
</body>
</html>
